{"remainingRequest":"D:\\c-mine\\msg\\msg_chat\\node_modules\\babel-loader\\lib\\index.js!D:\\c-mine\\msg\\msg_chat\\src\\utils\\filters\\index.js","dependencies":[{"path":"D:\\c-mine\\msg\\msg_chat\\src\\utils\\filters\\index.js","mtime":1577758781470},{"path":"D:\\c-mine\\msg\\msg_chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\c-mine\\msg\\msg_chat\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiRDovYy1taW5lL21zZy9tc2dfY2hhdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKCmZ1bmN0aW9uIHBsdXJhbGl6ZSh0aW1lLCBsYWJlbCkgewogIGlmICh0aW1lID09PSAxKSB7CiAgICByZXR1cm4gdGltZSArIGxhYmVsOwogIH0KCiAgcmV0dXJuIHRpbWUgKyBsYWJlbCArICJzIjsKfQoKZXhwb3J0IGZ1bmN0aW9uIHRpbWVBZ28odGltZSkgewogIHZhciBiZXR3ZWVuID0gRGF0ZS5ub3coKSAvIDEwMDAgLSBOdW1iZXIodGltZSk7CgogIGlmIChiZXR3ZWVuIDwgMzYwMCkgewogICAgcmV0dXJuIHBsdXJhbGl6ZSh+fihiZXR3ZWVuIC8gNjApLCAiIG1pbnV0ZSIpOwogIH0gZWxzZSBpZiAoYmV0d2VlbiA8IDg2NDAwKSB7CiAgICByZXR1cm4gcGx1cmFsaXplKH5+KGJldHdlZW4gLyAzNjAwKSwgIiBob3VyIik7CiAgfSBlbHNlIHsKICAgIHJldHVybiBwbHVyYWxpemUofn4oYmV0d2VlbiAvIDg2NDAwKSwgIiBkYXkiKTsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVGltZSh0aW1lLCBjRm9ybWF0KSB7CiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgaWYgKCh0aW1lICsgIiIpLmxlbmd0aCA9PT0gMTApIHsKICAgIHRpbWUgPSArdGltZSAqIDEwMDA7CiAgfQoKICB2YXIgZm9ybWF0ID0gY0Zvcm1hdCB8fCAie3l9LXttfS17ZH0ge2h9OntpfTp7c30iOwogIHZhciBkYXRlOwoKICBpZiAoX3R5cGVvZih0aW1lKSA9PT0gIm9iamVjdCIpIHsKICAgIGRhdGUgPSB0aW1lOwogIH0gZWxzZSB7CiAgICBkYXRlID0gbmV3IERhdGUocGFyc2VJbnQodGltZSkpOwogIH0KCiAgdmFyIGZvcm1hdE9iaiA9IHsKICAgIHk6IGRhdGUuZ2V0RnVsbFllYXIoKSwKICAgIG06IGRhdGUuZ2V0TW9udGgoKSArIDEsCiAgICBkOiBkYXRlLmdldERhdGUoKSwKICAgIGg6IGRhdGUuZ2V0SG91cnMoKSwKICAgIGk6IGRhdGUuZ2V0TWludXRlcygpLAogICAgczogZGF0ZS5nZXRTZWNvbmRzKCksCiAgICBhOiBkYXRlLmdldERheSgpCiAgfTsKICB2YXIgdGltZVN0ciA9IGZvcm1hdC5yZXBsYWNlKC97KHl8bXxkfGh8aXxzfGEpK30vZywgZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7CiAgICB2YXIgdmFsdWUgPSBmb3JtYXRPYmpba2V5XTsKICAgIGlmIChrZXkgPT09ICJhIikgcmV0dXJuIFsi5LiAIiwgIuS6jCIsICLkuIkiLCAi5ZubIiwgIuS6lCIsICLlha0iLCAi5pelIl1bdmFsdWUgLSAxXTsKCiAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDAgJiYgdmFsdWUgPCAxMCkgewogICAgICB2YWx1ZSA9ICIwIiArIHZhbHVlOwogICAgfQoKICAgIHJldHVybiB2YWx1ZSB8fCAwOwogIH0pOwogIHJldHVybiB0aW1lU3RyOwp9CmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRUaW1lKHRpbWUsIG9wdGlvbikgewogIHRpbWUgPSArdGltZSAqIDEwMDA7CiAgdmFyIGQgPSBuZXcgRGF0ZSh0aW1lKTsKICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICB2YXIgZGlmZiA9IChub3cgLSBkKSAvIDEwMDA7CgogIGlmIChkaWZmIDwgMzApIHsKICAgIHJldHVybiAi5Yia5YiaIjsKICB9IGVsc2UgaWYgKGRpZmYgPCAzNjAwKSB7CiAgICAvLyBsZXNzIDEgaG91cgogICAgcmV0dXJuIE1hdGguY2VpbChkaWZmIC8gNjApICsgIuWIhumSn+WJjSI7CiAgfSBlbHNlIGlmIChkaWZmIDwgMzYwMCAqIDI0KSB7CiAgICByZXR1cm4gTWF0aC5jZWlsKGRpZmYgLyAzNjAwKSArICLlsI/ml7bliY0iOwogIH0gZWxzZSBpZiAoZGlmZiA8IDM2MDAgKiAyNCAqIDIpIHsKICAgIHJldHVybiAiMeWkqeWJjSI7CiAgfQoKICBpZiAob3B0aW9uKSB7CiAgICByZXR1cm4gcGFyc2VUaW1lKHRpbWUsIG9wdGlvbik7CiAgfSBlbHNlIHsKICAgIHJldHVybiBkLmdldE1vbnRoKCkgKyAxICsgIuaciCIgKyBkLmdldERhdGUoKSArICLml6UiICsgZC5nZXRIb3VycygpICsgIuaXtiIgKyBkLmdldE1pbnV0ZXMoKSArICLliIYiOwogIH0KfQovKiAg5pWw5a2XIOagvOW8j+WMliAqLwoKZXhwb3J0IGZ1bmN0aW9uIG5Gb3JtYXR0ZXIobnVtLCBkaWdpdHMpIHsKICB2YXIgc2kgPSBbewogICAgdmFsdWU6IDFlMTgsCiAgICBzeW1ib2w6ICJFIgogIH0sIHsKICAgIHZhbHVlOiAxZTE1LAogICAgc3ltYm9sOiAiUCIKICB9LCB7CiAgICB2YWx1ZTogMWUxMiwKICAgIHN5bWJvbDogIlQiCiAgfSwgewogICAgdmFsdWU6IDFlOSwKICAgIHN5bWJvbDogIkciCiAgfSwgewogICAgdmFsdWU6IDFlNiwKICAgIHN5bWJvbDogIk0iCiAgfSwgewogICAgdmFsdWU6IDFlMywKICAgIHN5bWJvbDogImsiCiAgfV07CgogIGZvciAodmFyIGkgPSAwOyBpIDwgc2kubGVuZ3RoOyBpKyspIHsKICAgIGlmIChudW0gPj0gc2lbaV0udmFsdWUpIHsKICAgICAgcmV0dXJuIChudW0gLyBzaVtpXS52YWx1ZSArIDAuMSkudG9GaXhlZChkaWdpdHMpLnJlcGxhY2UoL1wuMCskfChcLlswLTldKlsxLTldKTArJC8sICIkMSIpICsgc2lbaV0uc3ltYm9sOwogICAgfQogIH0KCiAgcmV0dXJuIG51bS50b1N0cmluZygpOwp9CmV4cG9ydCBmdW5jdGlvbiBodG1sMlRleHQodmFsKSB7CiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIGRpdi5pbm5lckhUTUwgPSB2YWw7CiAgcmV0dXJuIGRpdi50ZXh0Q29udGVudCB8fCBkaXYuaW5uZXJUZXh0Owp9CmV4cG9ydCBmdW5jdGlvbiB0b1Rob3VzYW5kc2xzRmlsdGVyKG51bSkgewogIHJldHVybiAoK251bSB8fCAwKS50b1N0cmluZygpLnJlcGxhY2UoL14tP1xkKy9nLCBmdW5jdGlvbiAobSkgewogICAgcmV0dXJuIG0ucmVwbGFjZSgvKD89KD8hXGIpKFxkezN9KSskKS9nLCAiLCIpOwogIH0pOwp9Ci8qKg0KICog5qC85byP5YyW5paH5Lu25aSn5bCPDQogKiBAcGFyYW0gdmFsdWUNCiAqIEByZXR1cm5zIHsqfQ0KICovCgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyU2l6ZSh2YWx1ZSkgewogIGlmICghdmFsdWUgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09ICIiKSB7CiAgICByZXR1cm4gIiI7CiAgfQoKICB2YXIgdW5pdEFyciA9IFsiQiIsICJLQiIsICJNQiIsICJHQiIsICJUQiIsICJQQiIsICJFQiIsICJaQiIsICJZQiJdOwogIHZhciBzcmNzaXplID0gcGFyc2VGbG9hdCh2YWx1ZSk7CiAgdmFyIGluZGV4ID0gTWF0aC5mbG9vcihNYXRoLmxvZyhzcmNzaXplKSAvIE1hdGgubG9nKDEwMjQpKTsKICB2YXIgc2l6ZSA9IHNyY3NpemUgLyBNYXRoLnBvdygxMDI0LCBpbmRleCk7CiAgc2l6ZSA9IHNpemUudG9GaXhlZCgwKTsgLy8g5L+d55WZ55qE5bCP5pWw5L2N5pWwCgogIHJldHVybiBzaXplICsgdW5pdEFycltpbmRleF07Cn0="},{"version":3,"sources":["D:/c-mine/msg/msg_chat/src/utils/filters/index.js"],"names":["pluralize","time","label","timeAgo","between","Date","now","Number","parseTime","cFormat","arguments","length","format","date","parseInt","formatObj","y","getFullYear","m","getMonth","d","getDate","h","getHours","i","getMinutes","s","getSeconds","a","getDay","timeStr","replace","result","key","value","formatTime","option","diff","Math","ceil","nFormatter","num","digits","si","symbol","toFixed","toString","html2Text","val","div","document","createElement","innerHTML","textContent","innerText","toThousandslsFilter","renderSize","unitArr","srcsize","parseFloat","index","floor","log","size","pow"],"mappings":"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","sourcesContent":["function pluralize(time, label) {\r\n    if (time === 1) {\r\n        return time + label;\r\n    }\r\n    return time + label + \"s\";\r\n}\r\n\r\nexport function timeAgo(time) {\r\n    const between = Date.now() / 1000 - Number(time);\r\n    if (between < 3600) {\r\n        return pluralize(~~(between / 60), \" minute\");\r\n    } else if (between < 86400) {\r\n        return pluralize(~~(between / 3600), \" hour\");\r\n    } else {\r\n        return pluralize(~~(between / 86400), \" day\");\r\n    }\r\n}\r\n\r\nexport function parseTime(time, cFormat) {\r\n    if (arguments.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    if ((time + \"\").length === 10) {\r\n        time = +time * 1000;\r\n    }\r\n\r\n    const format = cFormat || \"{y}-{m}-{d} {h}:{i}:{s}\";\r\n    let date;\r\n    if (typeof time === \"object\") {\r\n        date = time;\r\n    } else {\r\n        date = new Date(parseInt(time));\r\n    }\r\n    const formatObj = {\r\n        y: date.getFullYear(),\r\n        m: date.getMonth() + 1,\r\n        d: date.getDate(),\r\n        h: date.getHours(),\r\n        i: date.getMinutes(),\r\n        s: date.getSeconds(),\r\n        a: date.getDay()\r\n    };\r\n    const timeStr = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\r\n        let value = formatObj[key];\r\n        if (key === \"a\")\r\n            return [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"][value - 1];\r\n        if (result.length > 0 && value < 10) {\r\n            value = \"0\" + value;\r\n        }\r\n        return value || 0;\r\n    });\r\n    return timeStr;\r\n}\r\n\r\nexport function formatTime(time, option) {\r\n    time = +time * 1000;\r\n    const d = new Date(time);\r\n    const now = Date.now();\r\n\r\n    const diff = (now - d) / 1000;\r\n\r\n    if (diff < 30) {\r\n        return \"刚刚\";\r\n    } else if (diff < 3600) {\r\n        // less 1 hour\r\n        return Math.ceil(diff / 60) + \"分钟前\";\r\n    } else if (diff < 3600 * 24) {\r\n        return Math.ceil(diff / 3600) + \"小时前\";\r\n    } else if (diff < 3600 * 24 * 2) {\r\n        return \"1天前\";\r\n    }\r\n    if (option) {\r\n        return parseTime(time, option);\r\n    } else {\r\n        return (\r\n            d.getMonth() +\r\n            1 +\r\n            \"月\" +\r\n            d.getDate() +\r\n            \"日\" +\r\n            d.getHours() +\r\n            \"时\" +\r\n            d.getMinutes() +\r\n            \"分\"\r\n        );\r\n    }\r\n}\r\n\r\n/*  数字 格式化 */\r\nexport function nFormatter(num, digits) {\r\n    const si = [\r\n        { value: 1e18, symbol: \"E\" },\r\n        { value: 1e15, symbol: \"P\" },\r\n        { value: 1e12, symbol: \"T\" },\r\n        { value: 1e9, symbol: \"G\" },\r\n        { value: 1e6, symbol: \"M\" },\r\n        { value: 1e3, symbol: \"k\" }\r\n    ];\r\n    for (let i = 0; i < si.length; i++) {\r\n        if (num >= si[i].value) {\r\n            return (\r\n                (num / si[i].value + 0.1)\r\n                    .toFixed(digits)\r\n                    .replace(/\\.0+$|(\\.[0-9]*[1-9])0+$/, \"$1\") + si[i].symbol\r\n            );\r\n        }\r\n    }\r\n    return num.toString();\r\n}\r\n\r\nexport function html2Text(val) {\r\n    const div = document.createElement(\"div\");\r\n    div.innerHTML = val;\r\n    return div.textContent || div.innerText;\r\n}\r\n\r\nexport function toThousandslsFilter(num) {\r\n    return (+num || 0)\r\n        .toString()\r\n        .replace(/^-?\\d+/g, m => m.replace(/(?=(?!\\b)(\\d{3})+$)/g, \",\"));\r\n}\r\n\r\n/**\r\n * 格式化文件大小\r\n * @param value\r\n * @returns {*}\r\n */\r\nexport function renderSize(value) {\r\n    if (!value || value === null || value === \"\") {\r\n        return \"\";\r\n    }\r\n    let unitArr = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n    let srcsize = parseFloat(value);\r\n    let index = Math.floor(Math.log(srcsize) / Math.log(1024));\r\n    let size = srcsize / Math.pow(1024, index);\r\n    size = size.toFixed(0); // 保留的小数位数\r\n    return size + unitArr[index];\r\n}\r\n"]}]}