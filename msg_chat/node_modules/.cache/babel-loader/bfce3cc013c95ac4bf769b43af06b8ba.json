{"remainingRequest":"D:\\c-mine\\msg\\msg_chat\\node_modules\\babel-loader\\lib\\index.js!D:\\c-mine\\msg\\msg_chat\\src\\utils\\request\\request.js","dependencies":[{"path":"D:\\c-mine\\msg\\msg_chat\\src\\utils\\request\\request.js","mtime":1631291273554},{"path":"D:\\c-mine\\msg\\msg_chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\c-mine\\msg\\msg_chat\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2MtbWluZS9tc2cvbXNnX2NoYXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwoKLyoNCiAqIEBBdXRob3I6IHByb3l6cGx1cw0KICogQERhdGU6IDIwMjEtMDktMTEgMDA6MTk6NDkNCiAqIEBMYXN0RWRpdG9yczogcHJveXpwbHVzDQogKiBATGFzdEVkaXRUaW1lOiAyMDIxLTA5LTExIDAwOjI3OjUzDQogKiBARGVzY3JpcHRpb246IERlc2NyaXB0aW9uDQogKi8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwp2YXIgdnVlID0gbmV3IFZ1ZSgpOyAvLyBpbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZS9pbmRleC5qcycKCmltcG9ydCB7IEJBU0VfVVJMIH0gZnJvbSAnQC9lbnYvY29uZmlnLmpzJzsgLy8gVlVFX0FQUF9CQVNFX1VSTD1odHRwczovL2IubG9vb3ZvLmNvbS8KLy8gVlVFX0FQUF9CQVNFX1VSTDI9aHR0cHM6Ly9zcy5sb29vdm8uY29tLwovLyBWVUVfQVBQX0JBU0VfVVJMMz1odHRwczovL3BheW1lbnQubG9vb3ZvLmNvbS8KLy8g5Yib5bu6YXhpb3Plrp7kvosKCnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBCQVNFX1VSTCwKICAvLyBhcGnnmoRiYXNlX3VybAogIHRpbWVvdXQ6IDEwMDAwIC8vIOivt+axgui2heaXtuaXtumXtAoKfSk7CmNvbnNvbGUubG9nKEJBU0VfVVJMLCAiPz8/Pz8/Iik7IC8vIHJlcXVlc3Qg6K+35rGC5Y+R6YCB5LmL5YmNIOaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIGNvbnN0IEF1dGhvcml6YXRpb24gPSBnZXRMb2NhbFN0b3JhZ2UoJ0F1dGhvcml6YXRpb24nKQogIC8vIGlmIChBdXRob3JpemF0aW9uKSB7CiAgLy8gICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBBdXRob3JpemF0aW9uIC8vIOiuqeavj+S4quivt+axguaQuuW4pnRva2VuLS1bJ0F1dGhvcml6YXRpb24nXQogIC8vIH0KICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXF1ZXN0IGVycm9yCiAgY29uc29sZS5sb2coZXJyb3IpOwogIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOi/lOWbnuaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc3BvbnNlKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09ICdFcnJvcicpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZ1ZS4kdG9hc3QocmVzcG9uc2UuZGF0YS5lcnJvcl9tc2cpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChyZXNwb25zZS5kYXRhLm1zZyB8fCByZXNwb25zZS5kYXRhLmVyciB8fCByZXNwb25zZS5kYXRhLmVycm9yX21zZykpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCksIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihlcnIpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHZ1ZS4kdG9hc3QoZXJyKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KGVycikpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"sources":["D:/c-mine/msg/msg_chat/src/utils/request/request.js"],"names":["axios","Vue","vue","BASE_URL","service","create","baseURL","timeout","console","log","interceptors","request","use","config","error","Promise","reject","response","data","status","$toast","error_msg","msg","err"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,IAAMC,GAAG,GAAG,IAAID,GAAJ,EAAZ,C,CACA;;AACA,SACIE,QADJ,QAEO,iBAFP,C,CAKA;AACA;AACA;AACA;;AACA,IAAMC,OAAO,GAAGJ,KAAK,CAACK,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAEH,QADgB;AACN;AACnBI,EAAAA,OAAO,EAAE,KAFgB,CAEV;;AAFU,CAAb,CAAhB;AAKAC,OAAO,CAACC,GAAR,CAAYN,QAAZ,EAAsB,QAAtB,E,CAEA;;AACAC,OAAO,CAACM,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAAAC,MAAM,EAAI;AACvC;AACA;AACA;AACA;AACA,SAAOA,MAAP;AACH,CAND,EAMG,UAAAC,KAAK,EAAI;AACR;AACAN,EAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACAC,EAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf;AACH,CAVD,E,CAWA;;AACAV,OAAO,CAACM,YAAR,CAAqBO,QAArB,CAA8BL,GAA9B;AAAA,qEACI,iBAAgBK,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,kBACOA,QAAQ,CAACC,IAAT,CAAcC,MAAd,IAAwB,OAD/B;AAAA;AAAA;AAAA;;AAEQjB,YAAAA,GAAG,CAACkB,MAAJ,CAAWH,QAAQ,CAACC,IAAT,CAAcG,SAAzB;AAFR,6CAGeN,OAAO,CAACC,MAAR,CAAeC,QAAQ,CAACC,IAAT,CAAcI,GAAd,IAAqBL,QAAQ,CAACC,IAAT,CAAcK,GAAnC,IAA0CN,QAAQ,CAACC,IAAT,CAAcG,SAAvE,CAHf;;AAAA;AAAA,6CAKWJ,QAAQ,CAACC,IALpB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADJ;;AAAA;AAAA;AAAA;AAAA;AAAA,sEAQI,kBAAgBK,GAAhB;AAAA;AAAA;AAAA;AAAA;AACIrB,YAAAA,GAAG,CAACkB,MAAJ,CAAWG,GAAX;AADJ,8CAEWR,OAAO,CAACC,MAAR,CAAeO,GAAf,CAFX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GARJ;;AAAA;AAAA;AAAA;AAAA;AAgBA,eAAenB,OAAf","sourcesContent":["/*\r\n * @Author: proyzplus\r\n * @Date: 2021-09-11 00:19:49\r\n * @LastEditors: proyzplus\r\n * @LastEditTime: 2021-09-11 00:27:53\r\n * @Description: Description\r\n */\r\nimport axios from 'axios';\r\nimport Vue from \"vue\";\r\n\r\nconst vue = new Vue();\r\n// import store from '@/store/index.js'\r\nimport {\r\n    BASE_URL\r\n} from '@/env/config.js';\r\n\r\n\r\n// VUE_APP_BASE_URL=https://b.looovo.com/\r\n// VUE_APP_BASE_URL2=https://ss.looovo.com/\r\n// VUE_APP_BASE_URL3=https://payment.looovo.com/\r\n// 创建axios实例\r\nconst service = axios.create({\r\n    baseURL: BASE_URL, // api的base_url\r\n    timeout: 10000 // 请求超时时间\r\n});\r\n\r\nconsole.log(BASE_URL, \"??????\");\r\n\r\n// request 请求发送之前 拦截器\r\nservice.interceptors.request.use(config => {\r\n    // const Authorization = getLocalStorage('Authorization')\r\n    // if (Authorization) {\r\n    //     config.headers.Authorization = Authorization // 让每个请求携带token--['Authorization']\r\n    // }\r\n    return config\r\n}, error => {\r\n    // Do something with request error\r\n    console.log(error)\r\n    Promise.reject(error)\r\n})\r\n// 返回拦截器\r\nservice.interceptors.response.use(\r\n    async function (response) {\r\n        if(response.data.status == 'Error'){\r\n            vue.$toast(response.data.error_msg);\r\n            return Promise.reject(response.data.msg || response.data.err || response.data.error_msg);\r\n        }\r\n        return response.data\r\n    },\r\n    async function (err) {\r\n        vue.$toast(err);\r\n        return Promise.reject(err);\r\n    },\r\n);\r\n\r\n\r\n\r\nexport default service"]}]}